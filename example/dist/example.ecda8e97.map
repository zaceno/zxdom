{"version":3,"sources":["../src/attr.js","../src/make.js","../src/patch.js","../src/h.js","../src/component.js","../src/index.js","example.js"],"names":["el","oldAttr","newAttr","Object","keys","forEach","name","setAttr","oldval","val","substr","removeAttribute","setAttribute","make","makeHTMLElement","tag","attr","chld","document","createElement","appendChild","c","makeTextNode","text","createTextNode","makeComponentInstance","inst","vnode","component","instances","push","patch","replace","newel","parent","parentNode","replaceChild","remove","removeChild","updateChildren","parentEl","oldChildren","newChildren","chel","childNodes","newLength","length","oldLength","i","setComponentInstance","oldnode","newnode","index","indexOf","splice","h","type","concat","func","assign","state","define","update","initial","mount","Mach2","callback","defs","__callback","_callback","wirer","f","args","ret","d","Deleter","ondelete","on","button","$","off","Editor","setText","show","start","set","s","props","ev","target","value","or","TodoItem","ontoggle","done","view","deleter","editor","toggleDone","setDone","x","todos","filter","addTodo","newTodo","View","console","log","resetAllToggle","submitNewTodo","NewTodoInput","ItemsLeft","n","todo","setFilter","FilterSelector","clearCompleted","t","ClearCompletedButton","TodoList","all","complete","active","map","allToggle","toggleAll","ToggleAll","body","innerHTML"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kBCQwBI;;AAnBxB;;;;;;AAEA,SAASC,eAAT,OAA6C;AAAA,QAAlBC,GAAkB,QAAlBA,GAAkB;AAAA,QAAbC,IAAa,QAAbA,IAAa;AAAA,QAAPC,IAAO,QAAPA,IAAO;;AACzC,QAAMjB,KAAKkB,SAASC,aAAT,CAAuBJ,GAAvB,CAAX;AACA,wBAAWf,EAAX,EAAe,EAAf,EAAmBgB,IAAnB;AACAC,SAAKZ,OAAL,CAAa;AAAA,eAAKL,GAAGoB,WAAH,CAAeP,KAAKQ,CAAL,CAAf,CAAL;AAAA,KAAb;AACA,WAAOrB,EAAP;AACH;;AAED,SAASsB,YAAT,CAAuBC,IAAvB,EAA6B;AACzB,WAAOL,SAASM,cAAT,CAAwBD,IAAxB,CAAP;AACH;;AAED,SAASE,qBAAT,CAAgCC,IAAhC,EAAsC;AAClCA,SAAK1B,EAAL,GAAUa,KAAKa,KAAKC,KAAV,CAAV;AACAD,SAAKE,SAAL,CAAeC,SAAf,CAAyBC,IAAzB,CAA8BJ,IAA9B;AACA,WAAOA,KAAK1B,EAAZ;AACH;;AAEc,SAASa,IAAT,CAAec,KAAf,EAAsB;AACjC,WAAO,CACHA,MAAMC,SAAN,GAAkBH,qBAAlB,GACEE,MAAMZ,GAAN,GAAYD,eAAZ,GACAQ,YAHC,EAILK,KAJK,CAAP;AAKH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCVe+C,QAAAA;;AANhB;;;;AACA;;;;AACA;;;;AACA;;;;QAEQjC;QAAOlB;QAAM0C;QAAGM;QAAQC;AACzB,SAASE,KAAT,CAAgBrC,KAAhB,EAAuBO,MAAvB,EAA+B;AAClC,QAAIP,MAAM+B,IAAV,EAAgB/B,QAAQ,iBAAEA,KAAF,CAAR;AAChBO,WAAOd,WAAP,CAAmB,oBAAKO,KAAL,CAAnB;AACH","file":"example.ecda8e97.map","sourcesContent":["\nfunction setAttr(el, name, oldval, val) {\n    if (name === 'value' || name === 'selected' || name === 'checked' || name.substr(0,2) === 'on') {\n        el[name] = val\n    } else if (val == null) {\n        el.removeAttribute(name)\n    } else if (oldval !== val) {\n        el.setAttribute(name, val)\n    }\n}\n//need a test: seems not to matter what we pass as third arg in first loop below\n//also need a test for checked\nexport default function (el, oldAttr, newAttr) {\n    Object.keys(oldAttr).forEach(name => {\n        if (newAttr[name] == null) setAttr(el, name, el)\n    })\n    Object.keys(newAttr).forEach(name => {\n        setAttr(el, name, oldAttr[name], newAttr[name])\n    })\n    return el\n}","import updateAttr from './attr'\n\nfunction makeHTMLElement ({tag, attr, chld}) {\n    const el = document.createElement(tag)\n    updateAttr(el, {}, attr)\n    chld.forEach(c => el.appendChild(make(c)))\n    return el\n}\n\nfunction makeTextNode (text) {\n    return document.createTextNode(text)\n}\n\nfunction makeComponentInstance (inst) {\n    inst.el = make(inst.vnode)\n    inst.component.instances.push(inst)\n    return inst.el\n}\n\nexport default function make (vnode) {\n    return (\n        vnode.component ? makeComponentInstance\n        : vnode.tag ? makeHTMLElement\n        : makeTextNode\n    )(vnode)\n}\n","import updateAttr from './attr'\nimport make from './make'\n\nfunction replace(el, vnode) {\n    const newel = make(vnode)\n    const parent = el.parentNode\n    if (parent) {\n        parent.replaceChild(newel, el)\n    }\n    return newel\n}\n\nfunction remove(el) {\n    el.parentNode.removeChild(el)\n}\n\nfunction updateChildren(parentEl, oldChildren = [], newChildren = []) {\n    const chel = parentEl.childNodes\n    const newLength = newChildren.length\n    const oldLength = oldChildren.length\n    for (var i = 0; i < oldLength && i < newLength; i++) {\n        patch(parentEl.childNodes[i], oldChildren[i], newChildren[i])\n    }\n    while (chel.length > newLength) {\n        parentEl.removeChild(chel[chel.length - 1])\n    }\n    while (chel.length < newLength) {\n        parentEl.appendChild(make(newChildren[i++]))\n    }\n}\n\nfunction setComponentInstance(oldnode, newnode) {\n    const instances = oldnode.component.instances\n    const index = instances.indexOf(oldnode)\n    if (newnode) instances.splice(index, 1, newnode)\n    else instances.splice(index, 1)\n}\n\nexport default function patch (el, oldnode, newnode) {\n    if (oldnode.component) {\n        if (oldnode.component === newnode.component) {\n            setComponentInstance(oldnode, newnode)\n            el = patch(el, oldnode.vnode, newnode.vnode)\n            newnode.el = el\n        } else {\n            setComponentInstance(oldnode)\n            el = replace(el, newnode)\n        }\n    } else if (oldnode.tag) {\n        if (oldnode.tag === newnode.tag) {\n            updateAttr(el, oldnode.attr, newnode.attr)\n            updateChildren(el, oldnode.chld, newnode.chld)                    \n        } else {\n            el = replace(el, newnode)\n        }\n    } else if (oldnode !== newnode) {\n        el = replace(el, newnode)\n    }\n    return el\n}\n","\nexport default function h(type, attr, ...chld) {\n    attr = attr || {}\n    chld = [].concat(...[].concat(...chld)) //flatten children into a single array\n    if (!!type.func) return {\n        component: type,\n        vnode: type.func(Object.assign({}, attr, type.state), chld),\n        attr,\n        chld,\n    }\n    if (typeof type === 'function') return type(attr, chld)\n    return {tag: type, attr, chld}\n}\n","import patch from './patch'\nimport h from './h'\n\nexport function define (func, initial = {}) {\n    return {\n        func,\n        state: initial,\n        instances: []\n    }\n}\n\nexport function update (component, state={}) {\n    component.state = state\n    component.instances.forEach(inst => {\n        patch(inst.el, inst, h(component, Object.assign({}, inst.attr), inst.chld))\n    })    \n}","import patch from './patch'\nimport make from './make'\nimport h from './h'\nimport {update, define} from './component'\n\nexport {patch, make, h, define, update}\nexport function mount (vnode, parent) {\n    if (vnode.func) vnode = h(vnode)\n    parent.appendChild(make(vnode))\n}","import {h, mount, define, update} from '../src/index.js'\n\nconst Mach2 = ({state, callback, defs}) => {\n    var __callback = _ => {}\n    const _callback = _ => __callback()\n    const wirer = function (f) {\n        return function (...args) {\n            const ret = f(state, ...args)\n            if (typeof ret !== 'undefined') state = ret\n            _callback()\n        }\n    }\n    const d = defs(wirer)\n    if (callback) __callback = _ => callback(state, d)\n    __callback()\n    return d\n}\n\nconst Deleter = ({ondelete}) => Mach2({\n    state: {on: false},\n    callback: (state, {button}) => update(button, state),\n    defs: $ => ({\n        on: $(state => {state.on = true}),\n        off: $(state => {state.on = false}),\n        button: define(state => state.on ? <button onclick={ondelete}>X</button> : '')    \n    })\n})\n\nconst Editor = ({setText}) => Mach2({\n    state: {on: false},\n    callback: (state, {show}) => update(show, state),\n    defs: $ => {\n        const start = $(_ => ({on:true}))\n        const set = $((s, text) => {\n            setText(text)\n            s.on = false\n        })\n        const show = define(props => (props.on ? <input type=\"text\" value={props.text} autofocus={true} onchange={ev => set(ev.target.value)} /> : h(props.or)))\n        return {start, show}    \n    }\n})\n\nconst TodoItem = ({text, ondelete, ontoggle}) => Mach2({\n    state: {text, done: false},\n    callback: (state, defs) => update(defs.view, state),\n    defs: $ => {\n        const deleter = Deleter({ondelete})\n        const editor = Editor({ setText: $((s, text) => {s.text = text}) })\n        const toggleDone = $(state => {\n            state.done = !state.done\n            ontoggle(state.done)\n        })\n        const setDone = $((state, x) => {state.done = x})\n        const view = define(state => (\n            <li onmouseover={deleter.on} onmouseleave={deleter.off}>\n                <editor.show text={state.text} or={_ => (\n                    <x->\n                        <input type=\"checkbox\" onclick={toggleDone} checked={state.done} />\n                        <span onclick={_ => editor.start()} style={state.done ? ' text-decoration: line-through; opacity: 0.5;' : ''}>{state.text}</span>\n                        <deleter.button />\n                    </x->\n                )}/>\n            </li>\n        ))\n\n        return {setDone, view}\n    },\n})\n\n\n\nconst {view} = Mach2({\n    state: {\n        todos: [],\n        filter: 'all',\n    },\n    defs\n})\n\n\n\nvar todos = []\nvar filter = 'all'\n\nconst addTodo = text => {\n    \n    const newTodo = TodoItem({\n        text,\n        ondelete: _ => {\n            todos.splice(todos.indexOf(newTodo), 1)\n            update(View)\n        },\n        ontoggle: x => {\n            console.log('ontoglg', x)\n            newTodo.done = x\n            resetAllToggle()\n        }\n    })\n    newTodo.done = false\n\n    todos.push(newTodo)\n    resetAllToggle()\n}\n\nconst submitNewTodo = value => {\n    update(NewTodoInput, {value: ''})\n    addTodo(value)\n}\n\nconst ItemsLeft = _ => {\n    const n = todos.filter(todo => !todo.done).length\n    return n ? `Items left: ${n}` : ''\n}\n\nconst setFilter = val => {\n    filter = val\n    update(View)\n}\n\n\nconst FilterSelector = _ => ([\n    'Filter:',\n    <select onchange={ev => setFilter(ev.target.value)}>\n        <option value=\"all\" selected={filter===\"all\"}>All</option>\n        <option value=\"complete\" selected={filter===\"complete\"}>Complete</option>\n        <option value=\"active\" selected={filter===\"active\"}>Active</option>\n    </select>\n])\n\nconst clearCompleted = _ => {\n    todos = todos.filter(t => !t.done)\n    update(View)\n}\n\nconst ClearCompletedButton = _ => (todos.filter(t => t.done).length > 0 ? <button onclick={clearCompleted}>Clear Completed</button> : '')\n\nconst NewTodoInput = define(({value}) => (\n    <input\n        placeholder=\"What needs to get done\"\n        value={value}\n        onchange={ev => submitNewTodo(ev.target.value)}\n    />\n), {value: ''})\n\nconst TodoList = _ => (\n    <ul>{todos.filter({\n        all: t => true,\n        complete: t => t.done,\n        active: t => !t.done,\n    }[filter]).map(t => (\n            <t.view />\n    ))}</ul>\n)\n\nvar allToggle = false\nconst resetAllToggle = _ => {\n    allToggle = false\n    update(View)\n}\nconst toggleAll = val => {\n    allToggle = val\n    todos.forEach(t => {\n        t.done = val\n        t.setDone(val)\n    })\n    update(View)\n}\nconst ToggleAll = _ => <input title=\"toggle all\" type=\"checkbox\" onclick={_ => toggleAll(!allToggle)} checked={allToggle} />\nconst View = define(_ => (\n    <main>\n        <ToggleAll /> <NewTodoInput />\n        <TodoList />\n        <ItemsLeft /> <FilterSelector /> <ClearCompletedButton />\n    </main>\n))\n\ndocument.body.innerHTML=''\nmount(View, document.body)"]}