!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.zxdom={})}(this,function(e){"use strict";function t(e,t,n,o){"key"===t||"value"===t||"selected"===t||"checked"===t||"on"===t.substr(0,2)?e[t]=o:null==o?e.removeAttribute(t):n!==o&&e.setAttribute(t,o)}function n(e,n,o){return Object.keys(n).forEach(n=>{null==o[n]&&t(e,n,e)}),Object.keys(o).forEach(c=>{t(e,c,n[c],o[c])}),e}function o(e,t){return(e.component?function(e){return e.el=o(e.vnode),e.component.instances.push(e),e.el}:e.tag?function({tag:e,attr:t,chld:c},r=!1){const i=t.oncreate,u=(r=r||"svg"===e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n(u,{},t),c.forEach(e=>u.appendChild(o(e,r))),i&&i(u),u}:function(e){return document.createTextNode(e)})(e,t)}function c(e,t,n){const c=o(t),i=e.parentNode;return i&&(r(e,n),i.replaceChild(c,e)),c}function r(e,t){let{attr:n,chld:o}=t,c=e.childNodes;n&&n.onremove&&n.onremove(e),o&&o.forEach((e,t)=>r(c[t],e))}function i(e,t,n=0){for(let o=n;o<e.length;o++){let n=e[o];if(n.attr&&n.attr.key){if(n.attr.key===t)return o}else if(n.tag===t)return o}}function u(e){return e.attr&&e.attr.key?e.attr.key:e.tag}function l(e,t){const n=e.component.instances,o=n.indexOf(e);t?n.splice(o,1,t):n.splice(o,1)}function a(e,t,c){n(e,t.attr,c.attr),function(e,t=[],n=[]){for(var c=0;c<t.length&&c<n.length;){let r=n[c],l=i(t,u(r),c),a=e.childNodes[c];if(null==l)e.insertBefore(o(r),a),t.splice(c,0,null);else{let n=null!=l&&t[l];if(l==c)f(a,n,r);else{let o=e.childNodes[l];e.insertBefore(o,a),t.splice(c,0,t.splice(l,1)[0]),f(o,n,r)}}c++}for(;c<t.length;){let n=e.childNodes[c];r(n,t[c]),e.removeChild(n),t.splice(c,1)}for(;c<n.length;)e.appendChild(o(n[c++]))}(e,t.chld,c.chld),c.attr&&c.attr.onupdate&&c.attr.onupdate(e)}function f(e,t,n){var o;return t.component?t.component===n.component?(l(t,n),e=f(e,t.vnode,n.vnode),n.el=e):(l(t),e=c(e,n.vnode,t.vnode)):t.tag?(o=n,u(t)===u(o)?a(e,t,n):e=c(e,n,t)):t!==n&&(e=c(e,n,t)),e}function d(e,t,...n){return t=t||{},n=[].concat(...[].concat(...n)),e.func?{component:e,vnode:e.func(Object.assign({},t,e.state),n),attr:t,chld:n}:"function"==typeof e?e(t,n):{tag:e,attr:t,chld:n}}e.patch=f,e.make=o,e.h=d,e.define=function(e,t={}){return{func:e,state:t,instances:[]}},e.update=function(e,t={}){e.state=t,e.instances.forEach(t=>{f(t.el,t,d(e,Object.assign({},t.attr),t.chld))})},e.mount=function(e,t){e.func&&(e=d(e)),t.appendChild(o(e))},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=zxdom.js.map