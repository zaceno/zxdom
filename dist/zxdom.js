!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.zxdom={})}(this,function(t){"use strict";function e(t,e,n,o){"key"===e||"value"===e||"selected"===e||"checked"===e||"on"===e.substr(0,2)?t[e]=o:null==o?t.removeAttribute(e):n!==o&&t.setAttribute(e,o)}function n(t,n,o){return Object.keys(n).forEach(n=>{null==o[n]&&e(t,n,t)}),Object.keys(o).forEach(c=>{e(t,c,n[c],o[c])}),t}function o(t,e){return(t.component?function(t){return t.el=o(t.vnode),t.component.instances.push(t),t.el}:t.tag?function({tag:t,attr:e,chld:c},r=!1){const u=e.oncreate,i=(r=r||"svg"===t)?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n(i,{},e),c.forEach(t=>i.appendChild(o(t,r))),u&&u(i),i}:function(t){return document.createTextNode(t)})(t,e)}function c(t,e,n){const c=o(e),u=t.parentNode;return u&&(r(t,n),u.replaceChild(c,t)),c}function r(t,e){let{attr:n,chld:o}=e,c=t.childNodes;n&&n.onremove&&n.onremove(t),o&&o.forEach((t,e)=>r(c[e],t))}function u(t,e,n=0){for(let o=n;o<t.length;o++){let n=t[o];if(n.attr&&n.attr.key){if(n.attr.key===e)return o}else if(n.tag===e)return o}}function i(t){return t.attr&&t.attr.key?t.attr.key:t.tag}function a(t,e){const n=t.component.instances,o=n.indexOf(t);e?n.splice(o,1,e):n.splice(o,1)}function l(t,e,f){return e.component?e.component===f.component?(a(e,f),t=l(t,e.vnode,f.vnode),f.el=t):(a(e),t=c(t,f.vnode,e.vnode)):e.tag?i(e)===i(f)?(n(t,e.attr,f.attr),function(t,e=[],n=[]){let c=0;const a=t.childNodes;for(;c<e.length&&c<n.length;){let r=u(e,i(n[c]),c);null==r?(t.insertBefore(o(n[c]),a[c]),e.splice(c,0,null)):(r!=c&&(t.insertBefore(a[r],a[c]),e.splice(c,0,e.splice(r,1)[0])),l(a[c],e[c],n[c])),c++}for(;c<e.length;){let n=a[c];r(n,e[c]),t.removeChild(n),e.splice(c,1)}for(;c<n.length;)t.appendChild(o(n[c++]))}(t,e.chld,f.chld),f.attr&&f.attr.onupdate&&f.attr.onupdate(t)):t=c(t,f,e):e!==f&&(t=c(t,f,e)),t}function f(t,e,...n){return e=e||{},n=[].concat(...[].concat(...n)),t.func?{component:t,vnode:t.func(Object.assign({},e,t.state),n),attr:e,chld:n}:"function"==typeof t?t(e,n):{tag:t,attr:e,chld:n}}t.patch=l,t.make=o,t.h=f,t.define=function(t,e={}){return{func:t,state:e,instances:[]}},t.update=function(t,e={}){t.state=e,t.instances.forEach(e=>{l(e.el,e,f(t,Object.assign({},e.attr),e.chld))})},t.mount=function(t,e){t.func&&(t=f(t)),e.appendChild(o(t))},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=zxdom.js.map